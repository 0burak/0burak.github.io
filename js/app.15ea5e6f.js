(function(){"use strict";var e={7106:function(e,n,s){var t=s(9963),i=s(6252);const o={class:"section"},a={class:"container"};function l(e,n,s,t,l,r){const c=(0,i.up)("mainComp"),d=(0,i.up)("simple-upload");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",a,[(0,i.Wm)(c),(0,i.Wm)(d)])])}const r=e=>((0,i.dD)("data-v-715dd1ce"),e=e(),(0,i.Cn)(),e),c=r((()=>(0,i._)("h3",null,"Software Engineering Group Project",-1))),d=r((()=>(0,i._)("canvas",null,null,-1))),h=[c,d];function u(e,n,s,t,o,a){return(0,i.wg)(),(0,i.iD)("div",null,h)}var p=s(7327),f=s(2760),m=(s(8762),s(9626),s(6941),document.getElementById("loadFile"));m||(m=document.createElement("INPUT"),m.setAttribute("id","loadFile"),m.setAttribute("type","file"),m.style.position="absolute",m.style.top="80px",m.style.width="200px",m.style.height="100px",m.style.right="40px",document.body.children[0].appendChild(m));class g{constructor(e){(0,p.Z)(this,"scene",void 0),(0,p.Z)(this,"engine",void 0),this.canvas=e,this.engine=new f.D4V(this.canvas,!0),this.scene=this.CreateScene();const n=new f.ezm("hemiLight",new f.Pa4(0,1,0),this.scene);n.intensity=.5;const s=new f.YfP("Camera",-Math.PI/4*3,Math.PI/4,10,new f.Pa4(0,0,0),this.scene);s.attachControl(!0),this.initXR(),this.engine.runRenderLoop((()=>{this.scene.render()}))}CreateScene(){const e=new f.xsS(this.engine);return e}async initXR(){const e=new f.gZI({groundOpacity:3},this.scene);e.skybox?.dispose(),e.ground.position.y=-1.1,e.ground.isPickable=!1;const n=1,s=f.VO7.CreateSphere("Sphere",{segments:16,diameter:n},this.scene);s.position.x=0,s.position.y=2*n,s.position.z=0,s.isPickable=!0;const t=new f.KuD("matR",this.scene);t.diffuseColor=new f.Wot(1,0,0),s.material=t,this.scene.environmentIntensity=.5;const i=await f.BBM.CreateAsync(this.scene,{floorMeshes:[e.ground],optionalFeatures:!0});let o,a;f.n0n.ImportMeshAsync("","./models/","item2.glb").then((e=>{console.log("result.meshes",e.meshes);for(var n=!1,s=0;s<e.meshes.length;s++)e.meshes[s].overrideMaterialSideOrientation=n;for(s=1;s<e.meshes.length;s++){e.meshes[s].overrideMaterialSideOrientation=n;var t=f.xx8.ExtractFromMesh(e.meshes[s]),i=t.positions;i||console.log("Mesh ",s," is missing position data"),console.log("Positions for ",s,"which is ",e.meshes[s].name,"are: ",i)}a=f.Kj0.MergeMeshes(e.meshes.slice(1),!0,!0,void 0,!1,!0),a.position.x=10,a.scaling=new f.Pa4(1,1,1),a.isPickable=!0;const o=a.metadata;console.log(o);var l=a.scaling&&a.scaling.x===a.scaling.y&&a.scaling.y===a.scaling.z;let r=a.parent;while(r){if(r.scaling&&1!==r.scaling.x||1!==r.scaling.y||1!==r.scaling.z){l=!1;break}r=r.parent}l?console.log("The merged mesh can be scaled"):console.log("The merged mesh cannot be safely scaled")}));const l=new f.zHn(new f.Pa4,new f.Pa4,3),r=new f.zHn(new f.Pa4,new f.Pa4,3),c=new f.zHn(new f.Pa4,new f.Pa4,3),d=new f.lSG(l);d.show(this.scene);const h=new f.lSG(r);h.show(this.scene);const u=new f.lSG(c);let p;u.show(this.scene),i.input.onControllerAddedObservable.add((e=>{e.onMotionControllerInitObservable.add((n=>{if("right"===n.handness){const s=n.getComponentIds(),t=n.getComponent(s[0]);t.onButtonStateChangedObservable.add((()=>{if(t.value>.5){e.getWorldPointerRayToRef(l,!1);const s=this.scene.pickWithRay(l);s&&void 0!==s.pickedMesh&&s.pickedMesh&&(p=s.pickedMesh,console.log("name:"+s.pickedMesh.name),p.setParent(n.rootMesh))}else t.value<.5&&void 0!=p&&p.setParent(null)}));const i=n.getComponent(s[3]);i.onButtonStateChangedObservable.add((()=>{if(i.pressed){e.getWorldPointerRayToRef(r,!1);const n=this.scene.pickWithRay(r);n&&n.pickedMesh&&(a.setParent(null),n.pickedMesh.scaling.x*=.9,n.pickedMesh.scaling.y*=.9,n.pickedMesh.scaling.z*=.9,a.setParent(o))}}));const d=n.getComponent(s[4]);d.onButtonStateChangedObservable.add((()=>{if(d.pressed){e.getWorldPointerRayToRef(c,!1);const n=this.scene.pickWithRay(c);n&&n.pickedMesh&&(a.setParent(null),n.pickedMesh.scaling.x*=2,n.pickedMesh.scaling.y*=2,n.pickedMesh.scaling.z*=2,a.setParent(o))}}))}}))}))}}var v={name:"mainComp",mounted(){const e=document.querySelector("canvas");new g(e)}},w=s(3744);const y=(0,w.Z)(v,[["render",u],["__scopeId","data-v-715dd1ce"]]);var b=y,k=s(3577);const P={class:"message-body"},C={class:"field"},M={class:"file is-boxed is-primary"},x={class:"file-label"},O=(0,i._)("span",{class:"file-cta"},[(0,i._)("span",{class:"file-icon"},[(0,i._)("i",{class:"fas fa-upload"})])],-1),S=(0,i._)("div",null,"Enter object name: ",-1),_={class:"field"},F=(0,i._)("button",null,"Add To Scene",-1);function R(e,n,s,o,a,l){return(0,i.wg)(),(0,i.iD)("form",{onSubmit:n[3]||(n[3]=(0,t.iM)(((...e)=>l.sendFile&&l.sendFile(...e)),["prevent"])),enctype:"multipart/form-data"},[a.message?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,k.C_)("message "+(a.error?"is-danger":"is-success"))},[(0,i._)("div",P,(0,k.zw)(a.message),1)],2)):(0,i.kq)("",!0),(0,i._)("div",C,[(0,i._)("div",M,[(0,i._)("label",x,[(0,i._)("input",{type:"file",ref:"file",onChange:n[0]||(n[0]=(...e)=>l.selectFile&&l.selectFile(...e)),class:"file-input"},null,544),O])])]),S,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=e=>a.fileName=e)},null,512),[[t.nr,a.fileName]]),(0,i._)("div",_,[(0,i._)("button",{class:"button is-info",onClick:n[2]||(n[2]=(...e)=>l.addFileToList&&l.addFileToList(...e))}," Send ")]),(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.uploadedFiles,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e},[(0,i.Uk)((0,k.zw)(e)+" ",1),F])))),128))])],32)}s(7658);var T=s(8945),z={name:"SimpleUpload",data(){return{file:"",message:"",error:!1,fileName:"",uploadedFiles:[]}},methods:{selectFile(){this.file=this.$refs.file.files[0],this.error=!1,this.message=""},addFileToList(){this.uploadedFiles.push(this.fileName),this.fileName=""},async sendFile(){const e=new FormData;e.append("file",this.file);try{await T.Z.post("/api/upload",e),this.message="File has been uploaded",this.file="",this.error=!1}catch(n){console.log(n),this.message=n.response.data.error,this.error=!0}}}};const D=(0,w.Z)(z,[["render",R]]);var I=D,j={name:"App",components:{mainComp:b,SimpleUpload:I}};const W=(0,w.Z)(j,[["render",l]]);var A=W;(0,t.ri)(A).mount("#app")}},n={};function s(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}};return e[t](o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(n,t,i,o){if(!t){var a=1/0;for(d=0;d<e.length;d++){t=e[d][0],i=e[d][1],o=e[d][2];for(var l=!0,r=0;r<t.length;r++)(!1&o||a>=o)&&Object.keys(s.O).every((function(e){return s.O[e](t[r])}))?t.splice(r--,1):(l=!1,o<a&&(a=o));if(l){e.splice(d--,1);var c=i();void 0!==c&&(n=c)}}return n}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[t,i,o]}}(),function(){s.d=function(e,n){for(var t in n)s.o(n,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};s.O.j=function(n){return 0===e[n]};var n=function(n,t){var i,o,a=t[0],l=t[1],r=t[2],c=0;if(a.some((function(n){return 0!==e[n]}))){for(i in l)s.o(l,i)&&(s.m[i]=l[i]);if(r)var d=r(s)}for(n&&n(t);c<a.length;c++)o=a[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},t=self["webpackChunkclient"]=self["webpackChunkclient"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=s.O(void 0,[998],(function(){return s(7106)}));t=s.O(t)})();
//# sourceMappingURL=app.15ea5e6f.js.map