(function(){"use strict";var e={7106:function(e,n,t){var i=t(9963),s=t(6252);const o={class:"section"},r={class:"container"};function a(e,n,t,i,a,l){const c=(0,s.up)("mainComp"),d=(0,s.up)("simple-upload");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",r,[(0,s.Wm)(c),(0,s.Wm)(d)])])}const l=e=>((0,s.dD)("data-v-715dd1ce"),e=e(),(0,s.Cn)(),e),c=l((()=>(0,s._)("h3",null,"Software Engineering Group Project",-1))),d=l((()=>(0,s._)("canvas",null,null,-1))),u=[c,d];function p(e,n,t,i,o,r){return(0,s.wg)(),(0,s.iD)("div",null,u)}var h=t(7327),f=t(2760).xsS,m=t(2760).D4V,g=t(2760).Pa4,v=t(2760).ezm,y=t(2760).YfP,b=t(2760).KuD,w=t(2760).BtG,k=t(2760).zHn,C=t(2760).lSG,M=t(2760).BBM,S=t(2760).gZI,_=t(2760).VO7,O=t(2760).Wot,F=t(2760).n0n,P=document.getElementById("loadFile");P||(P=document.createElement("INPUT"),P.setAttribute("id","loadFile"),P.setAttribute("type","file"),P.style.position="absolute",P.style.top="80px",P.style.width="200px",P.style.height="100px",P.style.right="40px",document.body.children[0].appendChild(P)),t(8762),t(9626),t(6941);class x{constructor(e){(0,h.Z)(this,"scene",void 0),(0,h.Z)(this,"engine",void 0),this.engine=new m(e,!0),this.scene=this.CreateScene(),F.ImportMesh("","./models/","item.glb",this.scene,(function(e){console.log("meshes",e)}));const n=F.ImportMesh("","./models/","item.glb"),t=n.meshes;console.log("meshes",t);const i=new v("hemiLight",new g(0,1,0),this.scene);i.intensity=.5;const s=new y("Camera",-Math.PI/4*3,Math.PI/4,10,new g(0,0,0),this.scene);s.attachControl(!0),this.initXR(),this.engine.runRenderLoop((()=>{this.scene.render()}))}CreateScene(){const e=new f(this.engine);return e}async initXR(){const e=w.CreateFromPrefilteredData("./environment/environment.env",this.scene),n=new S({groundOpacity:.75},this.scene);n.skybox?.dispose(),n.ground.scaling=new g(5,5,5),n.ground.position.y=-1.1,n.ground.isPickable=!1;const t=1,i=_.CreateSphere("Sphere",{segments:16,diameter:t},this.scene);i.position.x=0,i.position.y=2*t,i.position.z=0,i.isPickable=!0;const s=new b("matR",this.scene);s.diffuseColor=new O(1,0,0),i.material=s,this.scene.createDefaultSkybox(e,!0);const o=await M.CreateAsync(this.scene,{floorMeshes:[n.ground],optionalFeatures:!0}),r=new k(new g,new g,3),a=new g(new g,new g,3),l=new g(new g,new g,3),c=new C(r);c.show(this.scene);const d=new C(a);d.show(this.scene);const u=new C(l);let p,h;u.show(this.scene),o.input.onControllerAddedObservable.add((e=>{e.onMotionControllerInitObservable.add((n=>{if("right"===n.handness){const t=n.getComponentIds(),i=n.getComponent(t[0]);i.onButtonStateChangedObservable.add((()=>{i.value>.5?(e.getWorldPointerRayToRef(r,!1),p=this.scene.pickWithRay(r),p&&void 0!==p.pickedMesh&&p.pickedMesh&&(h=p.pickedMesh,console.log("name:"+p.pickedMesh.name),h.setParent(n.rootMesh))):i.value<.5&&void 0!=h&&h.setParent(null)}));const s=n.getComponent(t[3]);s.onButtonStateChangedObservable.add((()=>{s.pressed&&(e.getWorldPointerRayToRef(a,!1),p=this.scene.pickWithRay(a),p&&p.pickedMesh&&p.pickedMesh&&(p.pickedMesh.scaling.x*=.9,p.pickedMesh.scaling.y*=.9,p.pickedMesh.scaling.z*=.9))}));const o=n.getComponent(t[4]);o.onButtonStateChangedObservable.add((()=>{o.pressed&&(e.getWorldPointerRayToRef(l,!1),p=this.scene.pickWithRay(l),p&&p.pickedMesh&&p.pickedMesh&&(p.pickedMesh.scaling.x*=1.1,p.pickedMesh.scaling.y*=1.1,p.pickedMesh.scaling.z*=1.1))}))}}))}))}}var R={name:"mainComp",mounted(){const e=document.querySelector("canvas");new x(e)}},D=t(3744);const T=(0,D.Z)(R,[["render",p],["__scopeId","data-v-715dd1ce"]]);var j=T,I=t(3577);const W={class:"message-body"},z={class:"field"},B={class:"file is-boxed is-primary"},Z={class:"file-label"},A=(0,s._)("span",{class:"file-cta"},[(0,s._)("span",{class:"file-icon"},[(0,s._)("i",{class:"fas fa-upload"})])],-1),N=(0,s._)("div",null,"Enter object name: ",-1),E={class:"field"},L=(0,s._)("button",null,"Add To Scene",-1);function U(e,n,t,o,r,a){return(0,s.wg)(),(0,s.iD)("form",{onSubmit:n[3]||(n[3]=(0,i.iM)(((...e)=>a.sendFile&&a.sendFile(...e)),["prevent"])),enctype:"multipart/form-data"},[r.message?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,I.C_)("message "+(r.error?"is-danger":"is-success"))},[(0,s._)("div",W,(0,I.zw)(r.message),1)],2)):(0,s.kq)("",!0),(0,s._)("div",z,[(0,s._)("div",B,[(0,s._)("label",Z,[(0,s._)("input",{type:"file",ref:"file",onChange:n[0]||(n[0]=(...e)=>a.selectFile&&a.selectFile(...e)),class:"file-input"},null,544),A])])]),N,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=e=>r.fileName=e)},null,512),[[i.nr,r.fileName]]),(0,s._)("div",E,[(0,s._)("button",{class:"button is-info",onClick:n[2]||(n[2]=(...e)=>a.addFileToList&&a.addFileToList(...e))}," Send ")]),(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.uploadedFiles,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e},[(0,s.Uk)((0,I.zw)(e)+" ",1),L])))),128))])],32)}t(7658);var G=t(8945),V={name:"SimpleUpload",data(){return{file:"",message:"",error:!1,fileName:"",uploadedFiles:[]}},methods:{selectFile(){this.file=this.$refs.file.files[0],this.error=!1,this.message=""},addFileToList(){this.uploadedFiles.push(this.fileName),this.fileName=""},async sendFile(){const e=new FormData;e.append("file",this.file);try{await G.Z.post("/api/upload",e),this.message="File has been uploaded",this.file="",this.error=!1}catch(n){console.log(n),this.message=n.response.data.error,this.error=!0}}}};const q=(0,D.Z)(V,[["render",U]]);var H=q,K={name:"App",components:{mainComp:j,SimpleUpload:H}};const X=(0,D.Z)(K,[["render",a]]);var Y=X;(0,i.ri)(Y).mount("#app")}},n={};function t(i){var s=n[i];if(void 0!==s)return s.exports;var o=n[i]={exports:{}};return e[i](o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(n,i,s,o){if(!i){var r=1/0;for(d=0;d<e.length;d++){i=e[d][0],s=e[d][1],o=e[d][2];for(var a=!0,l=0;l<i.length;l++)(!1&o||r>=o)&&Object.keys(t.O).every((function(e){return t.O[e](i[l])}))?i.splice(l--,1):(a=!1,o<r&&(r=o));if(a){e.splice(d--,1);var c=s();void 0!==c&&(n=c)}}return n}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[i,s,o]}}(),function(){t.d=function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,i){var s,o,r=i[0],a=i[1],l=i[2],c=0;if(r.some((function(n){return 0!==e[n]}))){for(s in a)t.o(a,s)&&(t.m[s]=a[s]);if(l)var d=l(t)}for(n&&n(i);c<r.length;c++)o=r[c],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(d)},i=self["webpackChunkclient"]=self["webpackChunkclient"]||[];i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(7106)}));i=t.O(i)})();
//# sourceMappingURL=app.55da5ea6.js.map