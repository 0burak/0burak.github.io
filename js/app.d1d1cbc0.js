(function(){"use strict";var e={7106:function(e,n,t){var i=t(9963),s=t(6252);const o={class:"section"},a={class:"container"};function r(e,n,t,i,r,l){const c=(0,s.up)("mainComp"),d=(0,s.up)("simple-upload");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",a,[(0,s.Wm)(c),(0,s.Wm)(d)])])}const l=e=>((0,s.dD)("data-v-715dd1ce"),e=e(),(0,s.Cn)(),e),c=l((()=>(0,s._)("h3",null,"Software Engineering Group Project",-1))),d=l((()=>(0,s._)("canvas",null,null,-1))),h=[c,d];function u(e,n,t,i,o,a){return(0,s.wg)(),(0,s.iD)("div",null,h)}var p=t(7327),m=t(8684),f=t(9701),g=(t(8762),t(9626),t(6941),document.getElementById("loadFile"));g||(g=document.createElement("INPUT"),g.setAttribute("id","loadFile"),g.setAttribute("type","file"),g.style.position="absolute",g.style.top="80px",g.style.width="200px",g.style.height="100px",g.style.right="40px",document.body.children[0].appendChild(g));class v{constructor(e){(0,p.Z)(this,"scene",void 0),(0,p.Z)(this,"engine",void 0),this.canvas=e,this.engine=new m.D4V(this.canvas,!0),this.scene=this.CreateScene();const n=new m.ezm("hemiLight",new m.Pa4(0,1,0),this.scene);n.intensity=2;const t=new m.YfP("Camera",-Math.PI/4*3,Math.PI/4,10,new m.Pa4(0,0,0),this.scene);t.attachControl(!0),this.initXR(),this.engine.runRenderLoop((()=>{this.scene.render()}))}CreateScene(){const e=new m.xsS(this.engine);return e}async initXR(){const e=new m.gZI({groundOpacity:3},this.scene);m.n0n.ImportMeshAsync("","./models/","white-room1.glb").then((e=>{e.meshes.forEach((e=>{e.scaling=new m.Pa4(3,3,3),e.position.y=-.7,e.isPickable=!1}))}));var n=await m.n0n.ImportMeshAsync("","https://dl.dropbox.com/s/5gw2ibz1k6p6r17/radialGuiWithIcons.glb","radialGuiWithIcons.glb",this.scene),t=new m.YOI("radialGui");n.meshes.forEach(((e,n)=>{n>0&&e.setParent(t)})),n.meshes[0].dispose();var i=new f.iU(this.scene);n.meshes.forEach((e=>{if(e.name.includes("button")){var n=new m.KuD("highlight",this.scene);n.diffuseColor=new m.Wot(.42,.4,.38),n.backFaceCulling=!1,n.useLightmapAsShadowmap=!0,e.material=n;var t=new f.Ct(e,"pushButton");t.pointerEnterAnimation=()=>{e.material.diffuseColor=new m.Wot(0,.02,1)},t.pointerOutAnimation=()=>{e.material.diffuseColor=new m.Wot(.42,.4,.38)},i.addControl(t)}}));var s=new m.YOI(""),o=new f.VJ;o.margin=.2,i.addControl(o),o.linkToTransformNode(s),o.position.z=-1.5,o.position.y=1.75;var a=function(){var e=new f.Qj("orientation");o.addControl(e),e.text="Button #"+o.children.length};o.blockLayout=!0;for(var r=0;r<30;r++)a();o.blockLayout=!1;const l=1,c=m.VO7.CreateSphere("Sphere",{segments:16,diameter:l},this.scene);c.position.x=0,c.position.y=2*l,c.position.z=0,c.isPickable=!0;const d=new m.KuD("matR",this.scene);d.diffuseColor=new m.Wot(1,0,0),c.material=d;var h=m.VO7.CreatePlane("plane");h.position=new m.Pa4(1.4,1.5,.4);var u=f["in"].CreateForMesh(h),p=new f.eL;u.addControl(p);var g=new f.al;g.text="Color GUI",g.height="100px",g.color="white",g.textHorizontalAlignment=f.oT.HORIZONTAL_ALIGNMENT_CENTER,g.fontSize="120",p.addControl(g);var v=new f.zH;v.value=c.material.diffuseColor,v.horizontalAlignment=f.oT.HORIZONTAL_ALIGNMENT_CENTER,v.height="350px",v.width="350px",v.onValueChangedObservable.add((function(e){c.material.diffuseColor.copyFrom(e)})),p.addControl(v),e.skybox?.dispose(),e.ground.position.y=-.65,e.ground.isPickable=!1,this.scene.environmentIntensity=.5;const w=await m.BBM.CreateAsync(this.scene,{floorMeshes:[e.ground],optionalFeatures:!0});m.n0n.ImportMeshAsync("","./models/","item2.glb").then((e=>{console.log("result.meshes",e.meshes);for(var n=!1,t=0;t<e.meshes.length;t++)e.meshes[t].overrideMaterialSideOrientation=n;for(t=1;t<e.meshes.length;t++){e.meshes[t].overrideMaterialSideOrientation=n;var i=m.xx8.ExtractFromMesh(e.meshes[t]),s=i.positions;s||console.log("Mesh ",t," is missing position data"),console.log("Positions for ",t,"which is ",e.meshes[t].name,"are: ",s)}const o=m.Kj0.MergeMeshes(e.meshes.slice(1),!0,!0,null,!1,!0);o.position.x=0,o.isPickable=!0,console.log("mergedMesh",o.metadata)}));const b=new m.zHn(new m.Pa4,new m.Pa4,3),y=new m.zHn(new m.Pa4,new m.Pa4,3),C=new m.zHn(new m.Pa4,new m.Pa4,3),P=new m.lSG(b);P.show(this.scene);const k=new m.lSG(y);k.show(this.scene);const O=new m.lSG(C);let M;O.show(this.scene),w.input.onControllerAddedObservable.add((e=>{e.onMotionControllerInitObservable.add((n=>{if("right"===n.handness){const t=n.getComponentIds(),i=n.getComponent(t[0]);i.onButtonStateChangedObservable.add((()=>{if(i.value>.5){e.getWorldPointerRayToRef(b,!1);const t=this.scene.pickWithRay(b);t&&void 0!==t.pickedMesh&&t.pickedMesh&&(M=t.pickedMesh,console.log("name:"+t.pickedMesh.name),M.setParent(n.rootMesh))}else i.value<.5&&void 0!=M&&M.setParent(null)}));const s=n.getComponent(t[3]);s.onButtonStateChangedObservable.add((()=>{if(s.pressed){e.getWorldPointerRayToRef(y,!1);const n=this.scene.pickWithRay(y);n&&n.pickedMesh&&n.pickedMesh.scaling.multiplyInPlace(new m.Pa4(.9,.9,.9))}}));const o=n.getComponent(t[4]);o.onButtonStateChangedObservable.add((()=>{if(o.pressed){e.getWorldPointerRayToRef(C,!1);const n=this.scene.pickWithRay(C);n&&n.pickedMesh&&n.pickedMesh.scaling.multiplyInPlace(new m.Pa4(1.1,1.1,1.1))}}))}}))}))}}var w={name:"mainComp",mounted(){const e=document.querySelector("canvas");new v(e)}},b=t(3744);const y=(0,b.Z)(w,[["render",u],["__scopeId","data-v-715dd1ce"]]);var C=y,P=t(3577);const k={class:"message-body"},O={class:"field"},M={class:"file is-boxed is-primary"},x={class:"file-label"},_=(0,s._)("span",{class:"file-cta"},[(0,s._)("span",{class:"file-icon"},[(0,s._)("i",{class:"fas fa-upload"})])],-1),I=(0,s._)("div",null,"Enter object name: ",-1),F={class:"field"},S=(0,s._)("button",null,"Add To Scene",-1);function T(e,n,t,o,a,r){return(0,s.wg)(),(0,s.iD)("form",{onSubmit:n[3]||(n[3]=(0,i.iM)(((...e)=>r.sendFile&&r.sendFile(...e)),["prevent"])),enctype:"multipart/form-data"},[a.message?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,P.C_)("message "+(a.error?"is-danger":"is-success"))},[(0,s._)("div",k,(0,P.zw)(a.message),1)],2)):(0,s.kq)("",!0),(0,s._)("div",O,[(0,s._)("div",M,[(0,s._)("label",x,[(0,s._)("input",{type:"file",ref:"file",onChange:n[0]||(n[0]=(...e)=>r.selectFile&&r.selectFile(...e)),class:"file-input"},null,544),_])])]),I,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=e=>a.fileName=e)},null,512),[[i.nr,a.fileName]]),(0,s._)("div",F,[(0,s._)("button",{class:"button is-info",onClick:n[2]||(n[2]=(...e)=>r.addFileToList&&r.addFileToList(...e))}," Send ")]),(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.uploadedFiles,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e},[(0,s.Uk)((0,P.zw)(e)+" ",1),S])))),128))])],32)}t(7658);var A=t(8945),R={name:"SimpleUpload",data(){return{file:"",message:"",error:!1,fileName:"",uploadedFiles:[]}},methods:{selectFile(){this.file=this.$refs.file.files[0],this.error=!1,this.message=""},addFileToList(){this.uploadedFiles.push(this.fileName),this.fileName=""},async sendFile(){const e=new FormData;e.append("file",this.file);try{await A.Z.post("/api/upload",e),this.message="File has been uploaded",this.file="",this.error=!1}catch(n){console.log(n),this.message=n.response.data.error,this.error=!0}}}};const E=(0,b.Z)(R,[["render",T]]);var N=E,W={name:"App",components:{mainComp:C,SimpleUpload:N}};const z=(0,b.Z)(W,[["render",r]]);var L=z;(0,i.ri)(L).mount("#app")}},n={};function t(i){var s=n[i];if(void 0!==s)return s.exports;var o=n[i]={exports:{}};return e[i](o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(n,i,s,o){if(!i){var a=1/0;for(d=0;d<e.length;d++){i=e[d][0],s=e[d][1],o=e[d][2];for(var r=!0,l=0;l<i.length;l++)(!1&o||a>=o)&&Object.keys(t.O).every((function(e){return t.O[e](i[l])}))?i.splice(l--,1):(r=!1,o<a&&(a=o));if(r){e.splice(d--,1);var c=s();void 0!==c&&(n=c)}}return n}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[i,s,o]}}(),function(){t.d=function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,i){var s,o,a=i[0],r=i[1],l=i[2],c=0;if(a.some((function(n){return 0!==e[n]}))){for(s in r)t.o(r,s)&&(t.m[s]=r[s]);if(l)var d=l(t)}for(n&&n(i);c<a.length;c++)o=a[c],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(d)},i=self["webpackChunkclient"]=self["webpackChunkclient"]||[];i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(7106)}));i=t.O(i)})();
//# sourceMappingURL=app.d1d1cbc0.js.map